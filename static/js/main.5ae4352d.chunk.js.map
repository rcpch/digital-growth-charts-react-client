{"version":3,"sources":["components/subcomponents/GestationSelect.js","components/subcomponents/MeasurementMethodSelect.js","components/subcomponents/ReferenceSelect.js","components/subcomponents/SexChoice.js","selectData/measurementOptions.js","selectData/sexOptions.js","selectData/referenceOptions.js","components/subcomponents/ErrorText.js","components/subcomponents/BoneAge.js","functions/dateHelpers.js","components/MeasurementForm.js","components/chartThemes/themes.js","components/chartThemes/rcpchTheme1.js","components/chartThemes/rcpchTheme2.js","components/chartThemes/rcpchTheme3.js","components/chartThemes/rcpchThemeMonochrome.js","components/chartThemes/RCPCHThemeTraditionalBoy.js","components/chartThemes/RCPCHThemeTraditionalGirl.js","api/Chart.js","functions/deepCopy.js","functions/units.js","components/subcomponents/TableBody.js","components/subcomponents/ResultsSegment.js","components/subcomponents/ErrorModal.js","components/subcomponents/IntervalSelect.js","components/subcomponents/Slider.js","selectData/intervalOptions.js","components/FictionalChildForm.js","hooks/useRcpchApi.js","hooks/returnMidParentalHeight.js","hooks/useGlobalState.js","components/UtilitiesForm.js","components/MeasurementSegment.js","pages/Home.js","App.js","serviceWorker.js","index.js"],"names":["GestationSelect","props","gestationWeeksOptions","gestWeeks","push","key","toString","value","text","Select","compact","name","weeks","options","onChange","e","val","handleGestationChange","days","MeasurementMethodSelect","placeholder","measurementMethod","handleChangeMeasurementMethod","measurementOptions","ReferenceSelect","reference","handleChangeReference","referenceOptions","SexSelect","sex","handleSexChange","sexOptions","disabled","ErrorText","errorText","showError","makeErrorVisible","Message","color","boneAgeOptions","BoneAgeTypeSelect","Form","Group","Field","style","textAlign","width","Input","type","labelPosition","label","boneAge","handleBoneAgeChange","boneAgeSDS","handleBoneAgeSDSChange","boneAgeCentile","handleBoneAgeCentileChange","boneAgeText","handleBoneAgeTextChange","boneAgeType","handleChangeBoneAgeType","formatDate","inputDate","date","month","day","year","getTime","Date","getMonth","getDate","getFullYear","length","join","error","Error","parseDate","workingArray","split","map","element","index","madeNumber","Number","isNaN","parsedArray","jsYear","jsMonth","jsDay","validMaxDaysInMonth","undefined","isDaysInMonthValid","MeasurementForm","updateGlobalState","handleBoneAgeTypeChange","setState","event","data","handleObservationChange","observation","observation_value","state","measurement","observation_value_error","validateObservationValue","globalState","birth_date","observation_date","gestation_weeks","gestation_days","birth_date_error","observation_date_error","form_valid","measurementResult","events","showBoneAge","showEvents","handleChangeDate","bind","handleSubmit","handleChangeGestation","handleChangeSex","handleResetCurrentGraph","handleUndoLast","handleShowBoneAge","handleShowEvents","this","target","newDate","observation_date_object","birth_date_object","timeInterval","measurement_method","boneageData","eventText","events_text","parseFloat","bone_age","bone_age_type","bone_age_centile","bone_age_sds","bone_age_text","measurementFormData","formData","Object","assign","handleMeasurementResult","newMeasurementMethod","preventDefault","isPressed","formIsValid","clearMeasurement","newMeasurement","makeDynamic","option","newDisabled","dynamicMeasurementOptions","dynamicSexOptions","Container","Segment","onSubmit","Header","as","required","marginRight","content","units","basic","Button","icon","onClick","Icon","BoneAge","anEvent","thisEvent","theEvents","setEvents","splice","fluid","isDataPresent","React","Component","ChartTheme","chart","gridlines","axes","centiles","measurements","_chart","_gridlines","_axes","_centiles","_measurements","ChartObject","backgroundColour","height","padding","titleStyle","subTitleStyle","tooltipBackgroundColour","tooltipStroke","tooltipTextStyle","termFill","termStroke","infoBoxFill","infoBoxStroke","infoBoxTextStyle","toggleButtonInactiveColour","toggleButtonActiveColour","toggleButtonTextColour","_backgroundColour","_width","_height","_padding","_titleStyle","_subTitleStyle","_tooltipBackgroundColour","_tooltipStroke","_tooltipTextStyle","_termFill","_termStroke","_infoBoxFill","_infoBoxStroke","_infoBoxTextStyle","_toggleButtonActiveColour","_toggleButtonInactiveColour","_toggleButtonTextColour","PaddingObject","left","right","top","bottom","_left","_right","_top","_bottom","TextStyleObject","colour","size","weight","_name","_colour","_size","_style","_weight","GridlineObject","stroke","strokeWidth","dashed","_stroke","_strokeWidth","_dashed","AxesObject","axisStroke","axisLabelTextStyle","tickLabelStyle","tickLabelTextStyle","_axisStroke","_axisLabelTextStyle","_tickLabelTexSize","CentilesObject","centileStroke","centileStrokeWidth","delayedPubertyAreaFill","midParentalCentileStroke","midParentalCentileStrokeWidth","midParentalAreaFill","_centileStroke","_centileStrokeWidth","_delayedPubertyAreaFill","_midParentalAreaFill","_midParentalStroke","_midParentalStrokeWidth","_midParentalCentileStrokeWidth","MeasurementsObject","measurementFill","measurementStroke","measurementSize","_measurementFill","_measurementStroke","_measurementSize","tooltipBackGroundColour","RCPCHChart","RCPCHGridlines","RCPCHCentiles","RCPCHTheme1","RCPCHTheme2","axisLabelColour","RCPCHTheme3","RCPCHThemeMonochrome","RCPCHThemeTraditionalBoy","RCPCHThemeTraditionalGirl","ChartData","isLoading","titles","title","sexText","measurementText","subtitle","setTitle","Dimmer","active","Loader","measurementsArray","midParentalHeightData","chartStyle","measurementStyle","centileStyle","gridlineStyle","axisStyle","enableZoom","deepCopyArray","oldArray","copyArray","forEach","Array","isArray","deepCopyObject","oldObject","tempObject","deepCopy","input","TableBody","Fragment","Table","Row","Cell","measurement_dates","chronological_calendar_age","corrected_calendar_age","child_observation_value","Math","round","measurement_calculated_values","corrected_sds","chronological_sds","corrected_centile","chronological_centile","ResultsSegment","apiResult","celled","collapsing","HeaderCell","Body","bmi","ofc","ErrorModal","body","handleClose","visible","handleCancel","showCancel","Modal","open","closeOnEscape","Content","Actions","negative","IntervalTypeSelect","intervalType","handleChangeIntervalType","intervalTypeOptions","Slider","min","max","step","className","display","isPercentage","FictionalChildForm","useState","setWeeks","setDays","startingAge","setStartingAge","endingAge","setEndingAge","setIntervalType","interval","setInterval","driftFlag","setDriftFlag","drift","setDrift","noiseFlag","setNoiseFlag","noise","setNoise","startSDS","setStartSDS","errorMessage","setErrorMessage","handleBigButtonPress","values","start_chronological_age","end_age","measurement_interval_type","measurement_interval_number","start_sds","drift_range","noise_range","fictionalFormDataSubmit","useEffect","intervalOptions","Checkbox","toggle","checked","fetchFromApi","inputParameters","mode","a","url","process","headers","axios","method","response","makeInitialState","turner","calculation","output","errors","message","useRcpchApi","apiState","setApiState","fetchResult","useCallback","newInput","old","mutable","removeLastFromArrays","oldState","both","pop","newOutput","removeLastActiveItem","clearBothActiveArrays","clearApiErrors","ignore","relevantArray","latestInput","then","result","measurementError","resultAsArray","concat","singleResult","corrected_measurement_error","chronological_measurement_error","catch","errorForUser","results","apiErrors","returnMidParentalHeight","makeGlobalState","modeActiveIndex","measurementMethodActiveIndex","midparentalHeightData","mid_parental_height","mid_parental_height_sds","mid_parental_height_centile","mid_parental_height_centile_data","mid_parental_height_lower_centile_data","mid_parental_height_upper_centile_data","mid_parental_height_lower_value","mid_parental_height_upper_value","male","female","resetCurrent","undoLast","measurementMethodActiveIndexLookup","useGlobalState","setGlobalState","makeGlobalStateUpdater","newValue","birth_data","i","tempMeasurementMethod","existingResults","oldResult","UtilitiesForm","maternalHeight","setMaternalHeight","paternalHeight","setPaternalHeight","utilitiesFormData","height_maternal","height_paternal","utilitiesFormDataSubmit","defaultTheme","panesBlueprint","menuItem","measurementName","themeOptions","MeasurementSegment","setChartSyle","setAxisStyle","setCentileStyle","setMeasurementStyle","theme","setTheme","flip","setFlip","errorModal","setErrorModal","useMemo","selectedTheme","handleTabChange","activeIndex","final","console","log","handleChangeTheme","handleResults","latestResult","errorString","newGestation","newErrors","JSON","stringify","oldGestation","panes","details","render","Tab","Pane","attached","Chart","TabPanes","menu","onTabChange","FormPanes","ThemeSelection","Dropdown","floating","inline","Grid","padded","Column","verticalAlign","columns","Home","App","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5ae4352d.chunk.js","sourcesContent":["import React from 'react';\n\n// Semantic UI React\nimport {\n    Select,\n  } from 'semantic-ui-react';\n\nfunction GestationSelect(props){\n    let gestationWeeksOptions = [];\n    let gestWeeks = 23;\n    while (gestWeeks <= 42) {\n      gestationWeeksOptions.push({\n          key: gestWeeks.toString(10),\n          value: gestWeeks,\n          text: gestWeeks.toString(10),\n      });\n      gestWeeks++;\n    }\n    \n    const gestationDaysOptions = [\n    { key: '0', value: 0, text: '0' },\n    { key: '1', value: 1, text: '1' },\n    { key: '2', value: 2, text: '2' },\n    { key: '3', value: 3, text: '3' },\n    { key: '4', value: 4, text: '4' },\n    { key: '5', value: 5, text: '5' },\n    { key: '6', value: 6, text: '6' },\n    ];\n\n  return (\n    <span>\n        <Select\n          compact\n          name=\"gestation_weeks\"\n          value={props.weeks}\n          options={gestationWeeksOptions}\n          onChange={(e, val) => props.handleGestationChange(val)}\n        />\n        &nbsp;+\n        <Select\n          compact\n          name=\"gestation_days\"\n          value={props.days}\n          options={gestationDaysOptions}\n          onChange={(e, val) => props.handleGestationChange(val)}\n        />\n        &nbsp; weeks\n    </span>)\n}\n\nexport default GestationSelect","import React from 'react';\nimport {\n    Select\n  } from 'semantic-ui-react';\n\n  \nfunction MeasurementMethodSelect(props){\n\n    return <Select\n        name=\"measurement_method\"\n        placeholder=\"Measurement\"\n        value={props.measurementMethod}\n        onChange={(e, val) => props.handleChangeMeasurementMethod(val.value)}\n        options={props.measurementOptions}\n    />\n}\n\nexport default MeasurementMethodSelect","import React from 'react';\nimport {\n    Select,\n  } from 'semantic-ui-react';\n\n  \nfunction ReferenceSelect(props){\n\n    return <Select\n        name=\"reference\"\n        placeholder=\"UK-WHO\"\n        value={props.reference}\n        onChange={(e, val)=>props.handleChangeReference(val)}\n        options={props.referenceOptions}\n    />\n}\n\nexport default ReferenceSelect","import React from 'react';\nimport {\n    Select,\n  } from 'semantic-ui-react';\n\n  \nfunction SexSelect(props){\n\n    return <Select\n        name=\"sex\"\n        placeholder=\"Sex\"\n        value={props.sex}\n        onChange={(e, val)=>props.handleSexChange(val)}\n        options={props.sexOptions}\n    />\n}\n\nexport default SexSelect","const measurementOptions = [\n    { key: 'height', value: 'height', text: 'Height (cm)', disabled: false },\n    { key: 'weight', value: 'weight', text: 'Weight (kg)', disabled: false },\n    { key: 'bmi', value: 'bmi', text: 'BMI (kg/m)', disabled: false },\n    {\n      key: 'ofc',\n      value: 'ofc',\n      text: 'Head Circumference (cm)',\n      disabled: false,\n    },\n  ];\n\n  export default measurementOptions","const sexOptions = [\n    { key: 'male', value: 'male', text: 'Boy', disabled: false },\n    { key: 'female', value: 'female', text: 'Girl', disabled: false },\n];\n\nexport default sexOptions","const referenceOptions = [\n    { key: 'uk-who', value: 'uk-who', text: 'UK-WHO' },\n    { key: 'trisomy-21', value: 'trisomy-21', text: \"Down's Syndrome\" },\n    { key: 'turner', value: 'turner', text: \"Turner's syndrome\" },\n  ];\n\nexport default referenceOptions","import React from 'react';\nimport { Message } from 'semantic-ui-react';\n\nexport default function ErrorText({ errorText, showError }) {\n  if (!errorText) {\n    return null;\n  }\n  let makeErrorVisible = errorText ? true : false;\n  if (showError === false) {\n    makeErrorVisible = false;\n  }\n  return <>{makeErrorVisible && <Message color=\"red\">{errorText}</Message>}</>;\n}\n","import React from 'react';\nimport { Form, Select, Input } from 'semantic-ui-react';\n\nconst boneAgeOptions = [\n    {key: 'gp', value: 'greulich-pyle', text: 'Greulich & Pyle'},\n    {key: 'twii', value: 'tanner-whitehouse-ii', text: 'Tanner Whitehouse II'},\n    {key: 'twiii', value: 'tanner-whitehouse-iii', text: 'Tanner Whitehouse III'},\n    {key: 'fels', value: 'fels', text: 'Fels'},\n    {key: 'bxpt', value: 'bonexpert', text: 'BoneXpert'},\n]\n\nfunction BoneAgeTypeSelect(props) {\n  return (\n    <>\n        <Form.Group>\n            <Form.Field style={{textAlign:'left'}} width=\"16\">\n                <Input\n                    type=\"decimal\"\n                    name=\"boneAge\"\n                    placeholder=\"e.g. 3.5\"\n                    labelPosition=\"right\"\n                    label=\"years\"\n                    value={props.boneAge}\n                    onChange={props.handleBoneAgeChange}\n                />\n            </Form.Field>\n        </Form.Group>\n        <Form.Group>\n            <Form.Field style={{textAlign:'left'}} width=\"8\">\n                <Input\n                    type=\"decimal\"\n                    name=\"boneAgeSDS\"\n                    placeholder=\"e.g. -3.5\"\n                    labelPosition=\"right\"\n                    label=\"SDS\"\n                    value={props.boneAgeSDS}\n                    onChange={props.handleBoneAgeSDSChange}\n                />\n            </Form.Field>\n            <Form.Field style={{textAlign:'left'}} width=\"8\">\n                <Input\n                    type=\"decimal\"\n                    name=\"boneAgeCentile\"\n                    placeholder=\"e.g. 50\"\n                    labelPosition=\"right\"\n                    label=\"centile\"\n                    value={props.boneAgeCentile}\n                    onChange={props.handleBoneAgeCentileChange}\n                />\n            </Form.Field>\n        </Form.Group>\n        <Form.Group>\n            <Form.Field style={{textAlign:'left'}} width=\"16\">\n                <label>Comment</label>\n                <Input\n                    type=\"text\"\n                    name=\"boneAgeText\"\n                    placeholder=\"e.g. This bone age is advanced\"\n                    value={props.boneAgeText}\n                    onChange={props.handleBoneAgeTextChange}\n                />\n            </Form.Field>\n        </Form.Group>\n        <Form.Group>\n            <Form.Field style={{textAlign:'left'}} width=\"16\">\n                <label>Bone Age Reference</label>\n                <Select\n                    name=\"boneagetype\"\n                    placeholder=\"e.g. G&P\"\n                    value={props.boneAgeType}\n                    onChange={(e, val) => props.handleChangeBoneAgeType(val)}\n                    options={boneAgeOptions}\n                />\n            </Form.Field>\n        </Form.Group>\n    </>\n  );\n}\n\nexport default BoneAgeTypeSelect;","export const formatDate = (inputDate) => {\n  let date;\n  let month;\n  let day;\n  let year;\n  try {\n    inputDate.getTime();\n    date = new Date(inputDate);\n    month = '' + (date.getMonth() + 1);\n    day = '' + date.getDate();\n    year = date.getFullYear();\n    if (month.length < 2) {\n      month = '0' + month;\n    }\n    if (day.length < 2) {\n      day = '0' + day;\n    }\n\n    return [year, month, day].join('-');\n  } catch (error) {\n    throw new Error('Input date for formatDate not recognised');\n  }\n};\n\nexport const parseDate = (inputDate) => {\n  const isDaysInMonthValid = (parsedArray) => {\n    const [jsYear, jsMonth, jsDay] = parsedArray;\n    if (jsMonth === 1 && jsDay === 29) {\n      if (jsYear % 4 === 0) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      const daysInMonthLookup = [\n        31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\n      ];\n      const validMaxDaysInMonth = daysInMonthLookup[jsMonth];\n      if (validMaxDaysInMonth !== undefined && jsDay <= validMaxDaysInMonth) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  };\n  try {\n    const dateArray = inputDate.split('-');\n    const workingArray = dateArray.map((element, index) => {\n      if (element !== '') {\n        const madeNumber = Number(element);\n        if (Number.isNaN(madeNumber)) {\n          throw new Error();\n        } else {\n          return index === 1 ? madeNumber - 1 : madeNumber;\n        }\n      } else {\n        throw new Error();\n      }\n    });\n    if (\n      workingArray.length !== 3 ||\n      workingArray[1] < 0 ||\n      workingArray[1] > 11 ||\n      workingArray[2] < 1 ||\n      workingArray[2] > 31\n    ) {\n      throw new Error();\n    }\n    if (isDaysInMonthValid(workingArray)) {\n      return new Date(...workingArray);\n    } else {\n      throw new Error();\n    }\n  } catch (error) {\n    return null;\n  }\n};\n","import React from 'react';\n\nimport {\n  Container,\n  Segment,\n  Form,\n  Input,\n  Button,\n  Header,\n  Icon,\n} from 'semantic-ui-react';\nimport GestationSelect from './subcomponents/GestationSelect';\nimport MeasurementMethodSelect from './subcomponents/MeasurementMethodSelect';\nimport ReferenceSelect from './subcomponents/ReferenceSelect';\nimport SexSelect from './subcomponents/SexChoice';\nimport measurementOptions from '../selectData/measurementOptions';\nimport sexOptions from '../selectData/sexOptions';\nimport referenceOptions from '../selectData/referenceOptions';\nimport ErrorText from './subcomponents/ErrorText';\nimport BoneAgeTypeSelect from './subcomponents/BoneAge';\nimport { formatDate, parseDate } from '../functions/dateHelpers';\n\nconst ROBERT_WADLOW = 272; // interesting fact - Robert Wadlow (22/2/1918  15/7/1940) was the world's tallest man\nconst JON_BROWER_MINNOCH = 635; // interesting fact -  Jon Brower Minnoch (Born USA) was the world's heaviest man\nconst KHALID_BIN_MOHSEN_SHAARI = 204; // Khalid bin Mohsen Shaari (2/8/1991) from Saudi Arabia had the highest recorded BMI\n\nclass MeasurementForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      birth_date: formatDate(new Date()),\n      observation_date: formatDate(new Date()),\n      measurement: {\n        observation_value: '',\n      },\n      gestation_weeks: 40,\n      gestation_days: 0,\n      birth_date_error: '',\n      observation_date_error: '',\n      observation_value_error: 'empty',\n      form_valid: false,\n      measurementResult: [],\n      boneAge: '',\n      boneAgeType: 'greulich-pyle',\n      boneAgeSDS: '',\n      boneAgeCentile: '',\n      boneAgeText: '',\n      events:[\"\"],\n      showBoneAge: false,\n      showEvents: false\n    };\n\n    this.handleChangeDate = this.handleChangeDate.bind(this);\n    this.handleChangeMeasurementMethod =\n      this.handleChangeMeasurementMethod.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChangeGestation = this.handleChangeGestation.bind(this);\n    this.handleChangeSex = this.handleChangeSex.bind(this);\n    this.handleObservationChange = this.handleObservationChange.bind(this);\n    this.handleChangeReference = this.handleChangeReference.bind(this);\n    this.handleResetCurrentGraph = this.handleResetCurrentGraph.bind(this);\n    this.handleUndoLast = this.handleUndoLast.bind(this);\n    this.handleShowBoneAge = this.handleShowBoneAge.bind(this);\n    this.handleShowEvents = this.handleShowEvents.bind(this);\n    this.handleBoneAgeChange = this.handleBoneAgeChange.bind(this);\n    this.handleBoneAgeTypeChange = this.handleBoneAgeTypeChange.bind(this);\n    this.handleBoneAgeSDSChange = this.handleBoneAgeSDSChange.bind(this);\n    this.handleBoneAgeCentileChange = this.handleBoneAgeCentileChange.bind(this);\n    this.handleBoneAgeTextChange = this.handleBoneAgeTextChange.bind(this);\n  }\n\n  handleChangeReference = ({ value }) => { \n    this.props.updateGlobalState('reference', value);\n  };\n\n  handleBoneAgeTypeChange = ({ value }) => {\n    this.setState({boneAgeType: value})\n  }\n\n  handleBoneAgeChange = (event, data) => {\n    const boneAge = data.value;\n    this.setState({boneAge: boneAge})\n  }\n\n  handleBoneAgeSDSChange = (event, data) => {\n    const boneAgeSDS = data.value;\n    this.setState({boneAgeSDS: boneAgeSDS})\n  }\n  \n  handleBoneAgeCentileChange = (event, data) => {\n    const boneAgeCentile = data.value;\n    this.setState({boneAgeCentile: boneAgeCentile})\n  }\n  \n  handleBoneAgeTextChange = (event, data) => {\n    const boneAgeText = data.value;\n    this.setState({boneAgeText: boneAgeText})\n  }\n\n  handleChangeDate(event) {\n    this.setState({ [event.target.name]: event.target.value });\n    const newDate = parseDate(event.target.value);\n    if (newDate) {\n      const observation_date_object =\n        event.target.name === 'birth_date'\n          ? parseDate(this.state.observation_date)\n          : newDate;\n      const birth_date_object =\n        event.target.name === 'birth_date'\n          ? newDate\n          : parseDate(this.state.birth_date);\n      const timeInterval =\n        observation_date_object.getTime() - birth_date_object.getTime();\n      if (timeInterval < 0) {\n        if (event.target.name === 'birth_date') {\n          this.setState({\n            birth_date_error:\n              'Date of birth cannot come after the date of measurement',\n          });\n        } else if (event.target.name === 'observation_date') {\n          this.setState({\n            observation_date_error:\n              'Date of measurement cannot come before the date of birth.',\n          });\n        }\n      } else if (timeInterval > 631139040000) {\n        this.setState({\n          [`${event.target.name}_error`]:\n            'No centile data exists over 20 years of age.',\n        });\n      } else {\n        this.setState({ birth_date_error: '', observation_date_error: '' });\n      }\n    } else {\n      this.setState({\n        [`${event.target.name}_error`]: 'Please enter a valid date.',\n      });\n    }\n  }\n\n  handleObservationChange = (observation, data) => {\n    // this is updating an observation value\n    const observation_value = data.value;\n    let { measurement, observation_value_error } = this.state;\n    measurement.observation_value = observation_value;\n    observation_value_error = this.validateObservationValue(\n      this.props.globalState.measurementMethod,\n      observation_value\n    );\n    this.setState({\n      measurement: measurement,\n      observation_value_error: observation_value_error,\n    });\n  };\n\n  validateObservationValue(measurement_method, observation_value) {\n    if (observation_value === '') {\n      return 'empty';\n    }\n    if (Number.isNaN(Number(observation_value))) {\n      return 'Please enter a valid number.';\n    }\n    if (measurement_method === 'height') {\n      if (observation_value < 20) {\n        return 'The ' + measurement_method + ' you entered is too low.';\n      } else if (observation_value > ROBERT_WADLOW) {\n        return 'The ' + measurement_method + ' you entered is too tall.';\n      } else {\n        return '';\n      }\n    }\n    if (measurement_method === 'weight') {\n      if (observation_value < 0.01) {\n        return 'The ' + measurement_method + ' you entered is too low.';\n      } else if (observation_value > JON_BROWER_MINNOCH) {\n        return 'The ' + measurement_method + ' you entered is too heavy.';\n      } else {\n        return '';\n      }\n    }\n    if (measurement_method === 'bmi') {\n      if (observation_value < 5) {\n        return 'The ' + measurement_method + ' you entered is too low.';\n      } else if (observation_value > KHALID_BIN_MOHSEN_SHAARI) {\n        return 'The ' + measurement_method + ' you entered is too high.';\n      } else {\n        return '';\n      }\n    }\n    if (measurement_method === 'ofc') {\n      if (observation_value < 25) {\n        return 'The ' + measurement_method + ' you entered is too low.';\n      } else if (observation_value > 70) {\n        return 'The ' + measurement_method + ' you entered is too high.';\n      } else {\n        return '';\n      }\n    }\n  }\n\n  formIsValid() {\n    if (\n      this.state.birth_date_error === '' &&\n      this.state.observation_date_error === '' &&\n      this.state.observation_value_error === ''\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  handleSubmit() {\n    // passes the form data back to the parent (measurement segment)\n    let boneageData = {}\n    let eventText = {\n      events: []\n    }\n    if (this.state.events.length > 0 && this.state.events[0].length > 0){\n      eventText = {\n        events_text: this.state.events\n      }\n    }\n    if (this.state.showBoneAge) {\n      if (!isNaN(parseFloat(this.state.boneAge))){\n        boneageData = {\n          bone_age: parseFloat(this.state.boneAge),\n          bone_age_type: this.state.boneAgeType,\n          bone_age_centile: isNaN(parseFloat(this.state.boneAgeCentile)) ? null : parseFloat(this.state.boneAgeCentile),\n          bone_age_sds: isNaN(parseFloat(this.state.boneAgeSDS)) ? null : parseFloat(this.state.boneAgeSDS),\n          bone_age_text: this.state.boneAgeText\n        }\n      }\n    }\n    const measurementFormData = {\n      birth_date: this.state.birth_date,\n      observation_date: this.state.observation_date,\n      measurement_method: this.props.globalState.measurementMethod,\n      observation_value: this.state.measurement.observation_value,\n      gestation_weeks: this.state.gestation_weeks,\n      gestation_days: this.state.gestation_days,\n      sex: this.props.globalState.sex\n    };\n\n    const formData = Object.assign(measurementFormData, boneageData, eventText);\n    this.props.handleMeasurementResult(formData);\n  }\n\n  handleChangeMeasurementMethod(newMeasurementMethod) {\n    this.props.updateGlobalState('measurementMethod', newMeasurementMethod);\n  }\n\n  handleChangeGestation(data) {\n    const { name, value } = data;\n    if (name === 'gestation_weeks') {\n      this.setState({ gestation_weeks: value });\n      if (value === 42) {\n        this.setState({ gestation_days: 0 });\n      }\n    } else if (name === 'gestation_days') {\n      if (this.state.gestation_weeks === 42) {\n        this.setState({ gestation_days: 0 });\n      } else {\n        this.setState({ gestation_days: value });\n      }\n    }\n  }\n\n  handleChangeSex(val) {\n    this.props.updateGlobalState('sex', val.value);\n  }\n\n  handleResetCurrentGraph() {\n    this.props.updateGlobalState('resetCurrent', true);\n  }\n\n  handleUndoLast() {\n    this.props.updateGlobalState('undoLast', true);\n  }\n\n  handleShowEvents(e) {\n    e.preventDefault();\n    const isPressed = this.state.showEvents;\n    this.setState({\n      showEvents: !isPressed,\n      events: ['']\n    });\n  }\n  \n  handleShowBoneAge(e) {\n    e.preventDefault();\n    const isPressed = this.state.showBoneAge;\n    this.setState({\n      showBoneAge: !isPressed,\n      boneAge: '',\n      boneAgeCentile: '',\n      boneAgeSDS: '',\n      boneAgeType: 'greulich-pyle',\n      boneAgeText: ''\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.form_valid !== this.formIsValid()) {\n      this.setState({ form_valid: this.formIsValid() });\n    }\n    if (this.props.globalState.clearMeasurement) {\n      const newMeasurement = { ...this.state.measurement };\n      newMeasurement.observation_value = '';\n      this.setState({\n        measurement: newMeasurement,\n        observation_value_error: 'empty',\n        form_valid: false,\n        showBoneAge: false,\n        showEvents: false,\n        events: [''],\n        boneAge: '',\n        boneAgeCentile: '',\n        boneAgeSDS: '',\n        boneAgeType: 'greulich-pyle',\n        boneAgeText: ''\n      });\n      this.props.updateGlobalState('clearMeasurement', false);\n    }\n  }\n\n  render() {\n    const makeDynamic = (option) => {\n      const newDisabled = this.props.globalState.disabled[option.key];\n      return { ...option, disabled: newDisabled };\n    };\n    const dynamicMeasurementOptions = measurementOptions.map(makeDynamic);\n\n    const dynamicSexOptions = sexOptions.map(makeDynamic);\n\n    return (\n      <Container>\n        <Segment textAlign={'center'}>\n          <Form onSubmit={this.handleSubmit}>\n            <Form.Field>\n              <Header as=\"h5\" textAlign=\"left\">\n                Reference\n              </Header>\n              <ReferenceSelect\n                reference={this.props.globalState.reference}\n                handleChangeReference={this.handleChangeReference}\n                referenceOptions={referenceOptions}\n              />\n            </Form.Field>\n            <Form.Field required>\n              <Header as=\"h5\" textAlign=\"left\">\n                Dates\n              </Header>\n              <Input\n                label=\"Birth Date\"\n                type=\"date\"\n                name=\"birth_date\"\n                value={this.state.birth_date}\n                placeholder=\"Date of Birth\"\n                onChange={this.handleChangeDate}\n              />\n            </Form.Field>\n            <Form.Field required>\n              <Input\n                label=\"Measurement Date\"\n                type=\"date\"\n                name=\"observation_date\"\n                value={this.state.observation_date}\n                placeholder=\"Date of Measurement\"\n                onChange={this.handleChangeDate}\n              />\n            </Form.Field>\n            <ErrorText errorText={this.state.observation_date_error} />\n            <ErrorText errorText={this.state.birth_date_error} />\n\n            <Form.Group style={{textAlign: 'left'}}>\n              <Form.Field required style={{marginRight: 20}}>\n                <label>Sex</label>\n                <SexSelect\n                  sex={this.props.globalState.sex}\n                  handleSexChange={this.handleChangeSex}\n                  sexOptions={dynamicSexOptions}\n                />\n              </Form.Field>\n              <Form.Group>\n                <Form.Field >\n                  <label>Gestation</label>\n                  <GestationSelect\n                    name=\"gestation_select\"\n                    weeks={this.state.gestation_weeks}\n                    days={this.state.gestation_days}\n                    handleGestationChange={this.handleChangeGestation}\n                  />\n                </Form.Field>\n              </Form.Group>\n            </Form.Group>\n            \n            <Header as=\"h5\" textAlign=\"left\">\n              Measurements\n            </Header>\n\n            <Form.Group>\n              <Form.Field required>\n                <MeasurementMethodSelect\n                  measurementMethod={this.props.globalState.measurementMethod}\n                  handleChangeMeasurementMethod={\n                    this.handleChangeMeasurementMethod\n                  }\n                  measurementOptions={dynamicMeasurementOptions}\n                />\n              </Form.Field>\n              <Form.Field required width={8}>\n                <Input\n                  type=\"decimal\"\n                  name=\"observation_value\"\n                  placeholder=\"Measurement\"\n                  value={this.state.measurement.observation_value}\n                  label={{\n                    content: this.props.globalState.units.toString(),\n                    basic: true,\n                    color: 'blue',\n                  }}\n                  labelPosition=\"right\"\n                  onChange={this.handleObservationChange}\n                />\n              </Form.Field>\n            </Form.Group>\n            <ErrorText\n              showError={this.state.observation_value_error !== 'empty'}\n              errorText={this.state.observation_value_error}\n            />\n            <Form.Group>\n              { this.props.globalState.measurementMethod === 'height' &&\n                <Form.Field>\n                  <Button icon labelPosition=\"left\" onClick={this.handleShowBoneAge }>\n                    <Icon name=\"hand paper outline\"/>\n                    Add Bone Age\n                  </Button>\n                </Form.Field>\n              }\n              <Form.Field>\n                <Button icon labelPosition=\"left\" onClick={this.handleShowEvents}>\n                  <Icon name=\"bookmark outline\"/>\n                  Add Event\n                </Button>\n              </Form.Field>\n            </Form.Group>\n            \n            { this.state.showBoneAge &&\n              <Segment>\n                <BoneAgeTypeSelect \n                  boneAge={this.state.boneAge}\n                  handleBoneAgeChange={this.handleBoneAgeChange}\n                  boneAgeType={this.state.boneAgeType}\n                  handleChangeBoneAgeType={this.handleBoneAgeTypeChange}\n                  boneAgeCentile={this.state.boneAgeCentile}\n                  handleBoneAgeCentileChange = {this.handleBoneAgeCentileChange}\n                  boneAgeSDS={this.state.boneAgeSDS}\n                  handleBoneAgeSDSChange={this.handleBoneAgeSDSChange}\n                  boneAgeText = {this.state.boneAgeText}\n                  handleBoneAgeTextChange = {this.handleBoneAgeTextChange}\n                />\n              </Segment>\n            }\n           \n            {this.state.showEvents && (\n              <Segment>\n                {this.state.events.map((anEvent, index) => {\n                  return (\n                    <Form.Group key={index}>\n                      <Form.Field style={{textAlign:'left'}} width=\"14\">\n                          <Input\n                            name=\"event\"\n                            placeholder=\"e.g. diagnosis\"\n                            value={anEvent}\n                            onChange={(data)=> { \n                              let thisEvent = this.state.events;\n                              thisEvent[index]=data.target.value;\n                              this.setState({events: thisEvent})\n                            }}\n                          />\n                      </Form.Field>\n                      <Button icon onClick={(e)=>{\n                        e.preventDefault();\n                        if (this.state.events[index]===''){\n                          return\n                        }\n                        let theEvents = this.state.events;\n                        theEvents.push('');\n                        this.setState({events: theEvents})\n                      }}>\n                            <Icon name=\"plus circle\"/>\n                      </Button>\n                      {\n                        index === this.state.events.length-1 && \n                          <Button icon onClick={(e) => {\n                            e.preventDefault();\n                            if(index===0){\n                              this.setState({events:['']});\n                              return\n                            }\n                            let setEvents = this.state.events;\n                            setEvents.splice(index, 1);\n                            this.setState({events: setEvents});\n                          }}>\n                          <Icon name=\"minus circle\"/>\n                        </Button>\n                      }\n                    </Form.Group>\n                  )\n                })}\n              </Segment>\n            )}\n          \n\n            <Form.Field>\n              <Button\n                content=\"Calculate Centiles and Add To Chart\"\n                type=\"submit\"\n                fluid\n                disabled={!this.state.form_valid}\n                color=\"pink\"\n                icon=\"line graph\"\n                labelPosition=\"right\"\n              />\n            </Form.Field>\n          </Form>\n          {this.props.globalState.isDataPresent && (\n            <Segment>\n              <Button\n                content=\"Reset Chart\"\n                icon=\"power off\"\n                onClick={this.handleResetCurrentGraph}\n              />\n              <Button\n                content=\"Remove Last\"\n                icon=\"undo\"\n                onClick={this.handleUndoLast}\n              />\n            </Segment>\n          )}\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default MeasurementForm;\n","export class ChartTheme{\n    constructor(chart, gridlines, axes, centiles, measurements){\n        this.chart = chart\n        this.gridlines = gridlines\n        this.axes = axes\n        this.centiles = centiles\n        this.measurements = measurements\n    }\n    get chart(){\n        return this._chart\n    }\n    get gridlines(){\n        return this._gridlines\n    }\n    get axes(){\n        return this._axes\n    }\n    get centiles(){\n        return this._centiles\n    }\n    get measurements(){\n        return this._measurements\n    }\n\n    set chart(val){\n        this._chart=val\n    }\n    set gridlines(val){\n        this._gridlines=val\n    }\n    set axes(val){\n        this._axes=val\n    }\n    set centiles(val){\n        this._centiles=val\n    }\n    set measurements(val){\n        this._measurements=val\n    }\n}\n\nexport class ChartObject{\n    constructor(backgroundColour, width, height, padding, titleStyle, subTitleStyle, tooltipBackgroundColour, tooltipStroke, tooltipTextStyle, termFill, termStroke, infoBoxFill, infoBoxStroke, infoBoxTextStyle, toggleButtonInactiveColour, toggleButtonActiveColour, toggleButtonTextColour){\n        this.backgroundColour = backgroundColour\n        this.width = width\n        this.height = height\n        this.padding = padding\n        this.titleStyle=titleStyle\n        this.subTitleStyle=subTitleStyle\n        this.tooltipBackgroundColour = tooltipBackgroundColour\n        this.tooltipStroke = tooltipStroke\n        this.tooltipTextStyle = tooltipTextStyle\n        this.termFill=termFill\n        this.termStroke=termStroke\n        this.infoBoxFill=infoBoxFill\n        this.infoBoxStroke=infoBoxStroke\n        this.infoBoxTextStyle=infoBoxTextStyle\n        this.toggleButtonInactiveColour=toggleButtonInactiveColour\n        this.toggleButtonActiveColour=toggleButtonActiveColour\n        this.toggleButtonTextColour=toggleButtonTextColour\n    }\n    get backgroundColour(){\n        return this._backgroundColour\n    }\n    get width(){\n        return this._width\n    }\n    get height(){\n        return this._height\n    }\n    get padding(){\n        return this._padding\n    }\n    get titleStyle(){\n        return this._titleStyle\n    }\n    get subTitleStyle(){\n        return this._subTitleStyle\n    }\n    get tooltipBackgroundColour(){\n        return this._tooltipBackgroundColour\n    }\n    get tooltipStroke(){\n        return this._tooltipStroke\n    }\n    get tooltipTextStyle(){\n        return this._tooltipTextStyle\n    }\n    get termFill(){\n        return this._termFill\n    }\n    get termStroke(){\n        return this._termStroke\n    }\n    get infoBoxFill(){\n        return this._infoBoxFill\n    }\n    get infoBoxStroke(){\n        return this._infoBoxStroke\n    }\n    get infoBoxTextStyle(){\n        return this._infoBoxTextStyle\n    }\n    get toggleButtonActiveColour(){\n        return this._toggleButtonActiveColour\n    }\n    get toggleButtonInactiveColour(){\n        return this._toggleButtonInactiveColour\n    }\n    get toggleButtonTextColour(){\n        return this._toggleButtonTextColour\n    }\n    set termFill(val){\n        this._termFill=val\n    }\n    set termStroke(val){\n        this._termStroke=val\n    }\n    set infoBoxFill(val){\n        this._infoBoxFill=val\n    }\n    set infoBoxStroke(val){\n        this._infoBoxStroke=val\n    }\n    set infoBoxTextStyle(val){\n        this._infoBoxTextStyle=val\n    }\n    set backgroundColour(val){\n        this._backgroundColour=val\n    }\n    set width(val){\n        this._width=val\n    }\n    set height(val){\n        this._height=val\n    }\n    set padding(val){\n        this._padding=val\n    }\n    set tooltipBackgroundColour(val){\n        this._tooltipBackgroundColour=val\n    }set tooltipStroke(val){\n        this._tooltipStroke=val\n    }\n    set tooltipTextStyle(val){\n        this._tooltipTextStyle=val\n    }\n    set titleStyle(val){\n        this._titleStyle=val\n    }\n    set subTitleStyle(val){\n        this._subTitleStyle=val\n    }\n    set toggleButtonTextColour(val){\n        this._toggleButtonTextColour=val\n    }\n    set toggleButtonInactiveColour(val){\n        this._toggleButtonInactiveColour=val\n    }\n    set toggleButtonActiveColour(val){\n        this._toggleButtonActiveColour=val\n    }\n}\n\nexport class PaddingObject{\n    constructor(left, right, top, bottom){\n        this.left = left\n        this.right=right\n        this.top=top\n        this.bottom=bottom\n    }\n    get left(){\n        return this._left\n    }\n    get right(){\n        return this._right\n    }\n    get top(){\n        return this._top\n    }\n    get bottom(){\n        return this._bottom\n    }\n\n    set left(val){\n        this._left=val\n    }\n    set right(val){\n        this._right=val\n    }\n    set top(val){\n        this._top=val\n    }\n    set bottom(val){\n        this._bottom=val\n    }\n}\n\nexport class TextStyleObject{\n    constructor(name, colour, size, weight){\n        this.name=name\n        this.colour=colour\n        this.size=size\n        this.weight=weight\n    }\n    get name(){\n        return this._name\n    }\n    get colour(){\n        return this._colour\n    }\n    get size(){\n        return this._size\n    }\n    get style(){\n        return this._style\n    }\n    set name(val){\n        this._name=val\n    }\n    set colour(val){\n        this._colour=val\n    }\n    set size(val){\n        this._size=val\n    }\n    set weight(val){\n        this._weight=val\n    }\n}\n\nexport class GridlineObject{\n    constructor(gridlines, stroke, strokeWidth, dashed){\n        this.gridlines=gridlines\n        this.stroke=stroke\n        this.strokeWidth = strokeWidth\n        this.dashed=dashed\n    }\n    get gridlines(){\n        return this._gridlines\n    }\n    get stroke(){\n        return this._stroke\n    }\n    get strokeWidth(){\n        return this._strokeWidth\n    }\n    get dashed(){\n        return this._dashed\n    }\n    set gridlines(val){\n        this._gridlines=val\n    }\n    set stroke(val){\n        this._stroke=val\n    }\n    set strokeWidth(val){\n        this._strokeWidth=val\n    }\n    set dashed(val){\n        this._dashed=val\n    }\n}\n\nexport class AxesObject{\n    constructor(axisStroke, axisLabelTextStyle, tickLabelStyle){\n        this.axisStroke=axisStroke\n        this.axisLabelTextStyle=axisLabelTextStyle\n        this.tickLabelTextStyle=tickLabelStyle\n    }\n    get axisStroke(){\n        return this._axisStroke\n    }\n    get axisLabelTextStyle(){\n        return this._axisLabelTextStyle\n    }\n    get tickLabelTextStyle(){\n        return this._tickLabelTexSize\n    }\n    set axisStroke(val){\n        this._axisStroke=val\n    }\n    set axisLabelTextStyle(val){\n        this._axisLabelTextStyle=val\n    }\n    set tickLabelTextStyle(val){\n        this._tickLabelTexSize=val\n    }\n}\nexport class CentilesObject{\n    constructor(centileStroke, centileStrokeWidth, delayedPubertyAreaFill, midParentalCentileStroke, midParentalCentileStrokeWidth, midParentalAreaFill){\n        this.centileStroke=centileStroke\n        this.centileStrokeWidth=centileStrokeWidth\n        this.delayedPubertyAreaFill=delayedPubertyAreaFill\n        this.midParentalCentileStroke=midParentalCentileStroke\n        this.midParentalCentileStrokeWidth=midParentalCentileStrokeWidth\n        this.midParentalAreaFill=midParentalAreaFill\n    }\n    get centileStroke(){\n        return this._centileStroke\n    }\n    get centileStrokeWidth(){\n        return this._centileStrokeWidth\n    }\n    get delayedPubertyAreaFill(){\n        return this._delayedPubertyAreaFill\n    }\n    get midParentalAreaFill(){\n        return this._midParentalAreaFill\n    }\n    get midParentalCentileStroke(){\n        return this._midParentalStroke\n    }\n    get midParentalCentileStrokeWidth(){\n        return this._midParentalStrokeWidth\n    } \n    set centileStroke(val){\n        this._centileStroke=val\n    }\n    set centileStrokeWidth(val){\n        this._centileStrokeWidth=val\n    }\n    set delayedPubertyAreaFill(val){\n        this._delayedPubertyAreaFill=val\n    }\n    set midParentalCentileStroke(val){\n        this._midParentalStroke=val\n    }\n    set midParentalCentileStrokeWidth(val){\n        this._midParentalCentileStrokeWidth=val\n    }\n    set midParentalAreaFill(val){\n        this._midParentalAreaFill=val\n    }\n}\n\nexport class MeasurementsObject{\n    constructor(measurementFill, measurementStroke, measurementSize){\n        this.measurementFill=measurementFill        \n        this.measurementSize=measurementSize\n           }\n    get measurementFill(){\n        return this._measurementFill\n    }\n    get measurementStroke(){\n        return this._measurementStroke\n    }\n    get measurementSize(){\n        return this._measurementSize\n    }\n    set measurementFill(val){\n        this._measurementFill=val\n    }\n    set measurementStroke(val){\n        this._measurementStroke=val\n    }\n    set measurementSize(val){\n        this._measurementSize=val\n    }\n}\n\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nTheme 1\n\nData:  #7159aa - purple\nArea:  #c6bddd - purple (tint 40%)\ntooltip: #fdc300 - yellow\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#7159aa';\nconst pubertyFill = '#c6bddd';\nconst tooltipBackGroundColour = '#fdc300';\n// const tooltipTextColour = \"#FFFFFF\"\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\n// const axisLabelSize = 10\n// const tickLabelSize = 8\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke = \"#8d7abb\"\nconst midparentalHeightStrokeWidth = 1.5\nconst midparentalHeightFill=\"#e2ddee\"\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackGroundColour,\n  tooltipBackGroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  '#CDCDCD',\n  '#CDCDCD',\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHTheme1 = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\n\nexport default RCPCHTheme1;\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nTheme 2\n\nData:  #ff8000 - orange\nArea:  #ffc080 - orange (tint 40%)\ntooltip: #3366cc - strong blue\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#ff8000';\nconst pubertyFill = '#ffc080';\nconst tooltipBackGroundColour = '#3366cc';\n// const tooltipTextColour = \"#FFFFFF\"\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\n// const axisLabelSize = 10\n// const tickLabelSize = 8\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke = \"#ff9932\"\nconst midparentalHeightStrokeWidth = 1.5\nconst midparentalHeightFill=\"#ffd8b2\"\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#FFFFFF',\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackGroundColour,\n  tooltipBackGroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  tooltipBackGroundColour,\n  tooltipBackGroundColour,\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHTheme2 = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\n\nexport default RCPCHTheme2;\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nTheme 3\n\nData:   #e60700 - red\nArea:   #f59c99 - red (tint 40%)\ntooltip: #fdc300 - yellow\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#e60700';\nconst pubertyFill = '#f59c99';\nconst tooltipBackGroundColour = '#fdc300';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\nconst axisLabelColour = '#000000';\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\nconst axisLabelSize = 10;\nconst tickLabelSize = 8;\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke = \"#ed514c\";\nconst midparentalHeightStrokeWidth = 1.5;\nconst midparentalHeightFill=\"#facdcc\";\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  tooltipTextColour,\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject(\n  'Arial',\n  axisLabelColour,\n  axisLabelSize,\n  'normal'\n);\nconst tickLabelTextStyle = new TextStyleObject(\n  'Arial',\n  axisLabelColour,\n  tickLabelSize,\n  'normal'\n);\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackGroundColour,\n  tooltipBackGroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  tooltipBackGroundColour,\n  tooltipBackGroundColour,\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHTheme3 = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\n\nexport default RCPCHTheme3;\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nTheme 4 - monochrome\n\nData:   #000000 - black\nArea:   #b3b3b3 - midgrey\ntooltip: #FFFFF - white\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n \n*/\n\nconst centileColour = '#000000';\nconst pubertyFill = '#b3b3b3';\nconst tooltipBackgroundColour = '#b3b3b3';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\nconst midparentalHeightStroke=\"#d3d3d3\";\nconst midparentalHeightStrokeWidth=1.5;\nconst midparentalHeightFill = \"#f3f3f3\";\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  tooltipTextColour,\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackgroundColour,\n  tooltipBackgroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  '#CDCDCD',\n  '#CDCDCD',\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHThemeMonochrome = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\nexport default RCPCHThemeMonochrome;\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nRCPCH traditional: boy\n\n// boy 0 163 222 - #00a3de\n\nData:   #00a3de - blue\nArea:   #66c8eb - blue tint 49%\ntooltip: #b3b3b3 - midgrey\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#00a3de';\nconst pubertyFill = '#66c8eb';\nconst tooltipBackgroundColour = '#66c8eb';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\n// const axisLabelSize = 10\n// const tickLabelSize = 8\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke=\"#4cbee7\";\nconst midparentalHeightStrokeWidth=1.5;\nconst midparentalHeightFill=\"#b2e3f5\";\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  tooltipTextColour,\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackgroundColour,\n  tooltipBackgroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  tooltipBackgroundColour,\n  tooltipBackgroundColour,\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHThemeTraditionalBoy = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\n\nexport default RCPCHThemeTraditionalBoy;\n","import {\n  ChartTheme,\n  ChartObject,\n  GridlineObject,\n  CentilesObject,\n  MeasurementsObject,\n  AxesObject,\n  TextStyleObject,\n  PaddingObject,\n} from './themes';\n\n/* \nTraditional: girl\n\n// girl 201 85 157 - #c9559d\n\nData:   #c9559d - pink\nArea:   df99c4 - pink tint 40%\ntooltip: #b3b3b3 - midgrey\n\ngridlines: #d9d9d9 - light grey\ntext: #000000 - black\nbackground colour: #FFFFFF - white\ncentile width: 1.5 px\n\nfont: Montserrat normal\n\n*/\n\nconst centileColour = '#c9559d';\nconst pubertyFill = '#df99c4';\nconst tooltipBackgroundColour = '#df99c4';\nconst tooltipTextColour = '#000000';\nconst gridlineColour = '#d9d9d9';\nconst gridlineWidth = 0.25;\nconst backgroundColour = '#FFFFFF';\nconst centileWidth = 1.5;\n// const axisLabelColour = \"#000000\"\nconst axisstroke = '#000000';\nconst measurementsFill = '#000000';\nconst measurementsStroke = '#000000';\nconst measurementsSize = 2;\n// const axisLabelSize = 10\n// const tickLabelSize = 8\n// const axisLabelFont = \"Montserrat\"\nconst midparentalHeightStroke=\"#d376b0\"\nconst midparentalHeightStrokeWidth=1.5;\nconst midparentalHeightFill=\"#eecce1\";\n\nconst titleStyle = new TextStyleObject('Arial', '#000000', 14, 'bold');\nconst subTitleStyle = new TextStyleObject('Arial', '#000000', 14, 'normal');\n\nconst tooltipTextStyle = new TextStyleObject(\n  'Montserrat',\n  tooltipTextColour,\n  0.25,\n  'normal'\n);\nconst infoBoxTextStyle = new TextStyleObject(\n  'Montserrat',\n  '#000000',\n  6,\n  'normal'\n);\n\nconst axisLabelTextStyle = new TextStyleObject('Arial', '000000', 10, 'normal');\nconst tickLabelTextStyle = new TextStyleObject('Arial', '000000', 8, 'normal');\n\nconst chartPadding = new PaddingObject(50, 50, 25, 40);\n\nconst RCPCHChart = new ChartObject(\n  backgroundColour,\n  700,\n  475,\n  chartPadding,\n  titleStyle,\n  subTitleStyle,\n  tooltipBackgroundColour,\n  tooltipBackgroundColour,\n  tooltipTextStyle,\n  '#CDCDCD',\n  '#CDCDCD',\n  tooltipBackgroundColour,\n  tooltipBackgroundColour,\n  infoBoxTextStyle,\n  '#E497C1',\n  '#cb3083',\n  '#FFFFFF'\n);\n\nconst RCPCHGridlines = new GridlineObject(\n  true,\n  gridlineColour,\n  gridlineWidth,\n  false\n);\n\nconst RCPCHCentiles = new CentilesObject(\n  centileColour,\n  centileWidth,\n  pubertyFill,\n  midparentalHeightStroke,\n  midparentalHeightStrokeWidth,\n  midparentalHeightFill\n);\n\nconst RCPCHAxes = new AxesObject(\n  axisstroke,\n  axisLabelTextStyle,\n  tickLabelTextStyle\n);\n\nconst RCPCHMeasurements = new MeasurementsObject(\n  measurementsFill,\n  measurementsStroke,\n  measurementsSize\n);\n\nconst RCPCHThemeTraditionalGirl = new ChartTheme(\n  RCPCHChart,\n  RCPCHGridlines,\n  RCPCHAxes,\n  RCPCHCentiles,\n  RCPCHMeasurements\n);\n\nexport default RCPCHThemeTraditionalGirl;\n","import React from 'react';\nimport { Dimmer, Loader } from 'semantic-ui-react';\n\nimport { RCPCHChart } from '@rcpch/digital-growth-charts-react-component-library';\n\nfunction ChartData(props) {\n  const isLoading = props.isLoading;\n  const titles = setTitle(props);\n\n  return (\n    <div>\n      <Dimmer active={isLoading}>\n        <Loader>Fetching Data</Loader>\n      </Dimmer>\n      <RCPCHChart\n        reference={props.reference}\n        measurementMethod={props.measurementMethod}\n        sex={props.sex}\n        title={titles.title}\n        subtitle={titles.subtitle}\n        measurementsArray={props.measurementsArray} // this is the plottable child data\n        midParentalHeightData={props.midParentalHeightData}\n        chartStyle={props.chartStyle}\n        measurementStyle={props.measurementStyle}\n        centileStyle={props.centileStyle}\n        gridlineStyle={props.gridlineStyle}\n        axisStyle={props.axisStyle}\n        enableZoom\n      />\n    </div>\n  );\n}\n\nfunction setTitle(props) {\n  // set the title of the chart\n  let title = '';\n  let subTitle = '';\n  if (props.reference === 'uk-who') {\n    title = 'UK-WHO';\n  } else if (props.reference === 'turner') {\n    title = \"Turner's Syndrome\";\n  } else if (props.reference === 'trisomy-21') {\n    title = \"Trisomy 21 (Down's Syndrome)\";\n  }\n\n  let sexText = '';\n  let measurementText = '';\n  if (props.sex === 'male') {\n    sexText = 'Boys';\n  } else {\n    sexText = 'Girls';\n  }\n\n  switch (props.measurementMethod) {\n    case 'height':\n      measurementText = 'Height / Length';\n      break;\n    case 'weight':\n      measurementText = 'Weight';\n      break;\n    case 'bmi':\n      measurementText = 'Body Mass Index';\n      break;\n    case 'ofc':\n      measurementText = 'Head Circumference';\n      break;\n    default:\n      measurementText = '';\n      break;\n  }\n\n  subTitle = measurementText + ' - ' + sexText;\n\n  return { subtitle: subTitle, title: title };\n}\n\nexport default ChartData;\n","// deep copy variables\n// note: this is only copies enumerable properties\n\nconst deepCopyArray = (oldArray) => {\n  const copyArray = [];\n  oldArray.forEach((element) => {\n    if (Array.isArray(element)) {\n      copyArray.push(deepCopyArray(element));\n    } else {\n      if (typeof element === 'object' && element !== null) {\n        copyArray.push(deepCopyObject(element));\n      } else {\n        copyArray.push(element);\n      }\n    }\n  });\n  return copyArray;\n};\n\nconst deepCopyObject = (oldObject) => {\n  const tempObject = {};\n  for (const key in oldObject) {\n    const value = oldObject[key];\n    if (Array.isArray(value)) {\n      tempObject[key] = deepCopyArray(value);\n    } else {\n      if (typeof value === 'object' && value !== null) {\n        tempObject[key] = deepCopyObject(value);\n      } else {\n        tempObject[key] = value;\n      }\n    }\n  }\n  return tempObject;\n};\n\nconst deepCopy = (input) => {\n  if (Array.isArray(input)) {\n    return deepCopyArray(input);\n  } else if (typeof input === 'object' && input !== null) {\n    return deepCopyObject(input);\n  } else {\n    return input;\n  }\n};\n\nexport default deepCopy;\n","export const units = (measurementMethod) => {\n    if (measurementMethod === 'height') {\n      return 'cm';\n    }\n    if (measurementMethod === 'weight') {\n      return 'kg';\n    }\n    if (measurementMethod === 'bmi') {\n      return 'kg/m';\n    }\n    if (measurementMethod === 'ofc') {\n      return 'cm';\n    }\n  };","import React from 'react';\nimport {\n  Table,\n} from 'semantic-ui-react';\nimport { units } from './../../functions/units';\n\nexport const TableBody = (props) => {\n    const measurement = props.measurement;\n    return (\n      <React.Fragment>\n        <Table.Row>\n          <Table.Cell>Ages</Table.Cell>\n          <Table.Cell>\n            {measurement.measurement_dates.chronological_calendar_age}\n          </Table.Cell>\n          <Table.Cell>\n            {measurement.measurement_dates.corrected_calendar_age}\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>Measurement</Table.Cell>\n          <Table.Cell>\n            {measurement.child_observation_value.observation_value}{' '}\n            {units(measurement.child_observation_value.measurement_method)}\n          </Table.Cell>\n          <Table.Cell></Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>SDS</Table.Cell>\n          <Table.Cell>\n            {Math.round(\n              measurement.measurement_calculated_values.corrected_sds * 1000\n            ) / 1000}\n          </Table.Cell>\n          <Table.Cell>\n            {Math.round(\n              measurement.measurement_calculated_values.chronological_sds * 1000\n            ) / 1000}\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>Centiles</Table.Cell>\n          <Table.Cell>\n            {measurement.measurement_calculated_values.corrected_centile}\n          </Table.Cell>\n          <Table.Cell>\n            {measurement.measurement_calculated_values.chronological_centile}\n          </Table.Cell>\n        </Table.Row>\n      </React.Fragment>\n    );\n  };","import React from 'react';\nimport {\n  Segment,\n  Table\n} from 'semantic-ui-react';\nimport { TableBody } from '../subcomponents/TableBody';\n\nexport const ResultsSegment = ({ apiResult, reference }) => (\n    <Segment>\n      <Table basic=\"very\" celled collapsing compact>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell></Table.HeaderCell>\n            <Table.HeaderCell>Corrected Results</Table.HeaderCell>\n            <Table.HeaderCell>Chronological Results</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {apiResult[reference].height.length > 0 && (\n            <Table.Row>\n              <Table.HeaderCell></Table.HeaderCell>\n              <Table.HeaderCell>Heights</Table.HeaderCell>\n              <Table.HeaderCell></Table.HeaderCell>\n            </Table.Row>\n          )}\n          {apiResult[reference].height.length > 0 &&\n            apiResult[reference].height.map((measurement, index) => {\n              return <TableBody measurement={measurement} key={index} />;\n            })}\n          {apiResult[reference].weight.length > 0 && (\n            <Table.Row>\n              <Table.HeaderCell></Table.HeaderCell>\n              <Table.HeaderCell>Weights</Table.HeaderCell>\n              <Table.HeaderCell></Table.HeaderCell>\n            </Table.Row>\n          )}\n          {apiResult[reference].weight.length > 0 &&\n            apiResult[reference].weight.map((measurement, index) => {\n              return <TableBody key={index} measurement={measurement} />;\n            })}\n          {apiResult[reference].bmi.length > 0 && (\n            <Table.Row>\n              <Table.HeaderCell></Table.HeaderCell>\n              <Table.HeaderCell>BMIs</Table.HeaderCell>\n              <Table.HeaderCell></Table.HeaderCell>\n            </Table.Row>\n          )}\n          {apiResult[reference].bmi.length > 0 &&\n            apiResult.bmi.map((measurement, index) => {\n              return <TableBody key={index} measurement={measurement} />;\n            })}\n          {apiResult[reference].ofc.length > 0 && (\n            <Table.Row>\n              <Table.HeaderCell></Table.HeaderCell>\n              <Table.HeaderCell>Head Circumferences</Table.HeaderCell>\n              <Table.HeaderCell></Table.HeaderCell>\n            </Table.Row>\n          )}\n          {apiResult[reference].ofc.length > 0 &&\n            apiResult[reference].ofc.map((measurement, index) => {\n              return <TableBody key={index} measurement={measurement} />;\n            })}\n        </Table.Body>\n      </Table>\n    </Segment>\n  );","import React from 'react';\nimport {\n  Button,\n  Modal,\n} from 'semantic-ui-react';\n\nexport const ErrorModal = ({\n  title,\n  body,\n  handleClose,\n  visible,\n  handleCancel,\n}) => {\n  const showCancel = handleCancel ? true : false;\n  return (\n    <Modal title={title} open={visible} size=\"small\" closeOnEscape={true}>\n      <Modal.Header>{title}</Modal.Header>\n      <Modal.Content>{body}</Modal.Content>\n      <Modal.Actions>\n        <Button negative onClick={handleClose}>\n          OK\n        </Button>\n        {showCancel && <Button onClick={handleCancel}>Cancel</Button>}\n      </Modal.Actions>\n    </Modal>\n  );\n};\n","import React from 'react';\nimport { Select } from 'semantic-ui-react';\n\nfunction IntervalTypeSelect(props) {\n  return (\n    <Select\n      name=\"interval\"\n      placeholder=\"days\"\n      value={props.intervalType}\n      onChange={props.handleChangeIntervalType}\n      options={props.intervalTypeOptions}\n    />\n  );\n}\n\nexport default IntervalTypeSelect;\n","import React from 'react';\n\nconst Slider = (props) => {\n    return <div style={{textAlign: 'left'}}>\n        <label style={{padding: \"10px\"}}>{props.min} </label>\n        \n        <input \n            type=\"range\" \n            min={props.min} \n            max={props.max} \n            value={props.value}\n            step={props.step}\n            className=\"slider\" \n            onChange={(e)=> props.onChange(e.target.value)}\n        />\n        \n        <label style={{padding: \"10px\"}}>{props.max}</label>\n\n        <h5 style={{display:'inline'}}>{props.label}: {props.value} {props.isPercentage ? \"%\" : \"SDS\"}</h5>\n    </div>\n}\n\nexport default Slider","const intervalTypeOptions = [\n    { key: 'd', value: 'days', text: 'Days', disabled: false },\n    { key: 'w', value: 'weeks', text: 'Weeks', disabled: false },\n    { key: 'm', value: 'months', text: 'Months', disabled: false },\n    { key: 'y', value: 'years', text: 'Years', disabled: false },\n];\nexport default intervalTypeOptions","import React, { useState, useEffect } from 'react';\n\nimport { Form, Input, Header, Checkbox, Button } from 'semantic-ui-react';\n\nimport GestationSelect from './subcomponents/GestationSelect';\nimport IntervalTypeSelect from './subcomponents/IntervalSelect';\nimport MeasurementMethodSelect from './subcomponents/MeasurementMethodSelect';\nimport ReferenceSelect from './subcomponents/ReferenceSelect';\nimport SexSelect from './subcomponents/SexChoice';\nimport Slider from './subcomponents/Slider';\n\nimport referenceOptions from '../selectData/referenceOptions';\nimport sexOptions from '../selectData/sexOptions';\nimport measurementOptions from '../selectData/measurementOptions';\nimport intervalOptions from '../selectData/intervalOptions';\nimport ErrorText from './subcomponents/ErrorText';\n\nconst FictionalChildForm = (props) => {\n  const [weeks, setWeeks] = useState(40);\n  const [days, setDays] = useState(0);\n  const [startingAge, setStartingAge] = useState('1');\n  const [endingAge, setEndingAge] = useState('20');\n  const [intervalType, setIntervalType] = useState('years');\n  const [interval, setInterval] = useState('1');\n  const [driftFlag, setDriftFlag] = useState(false);\n  const [drift, setDrift] = useState(0.01);\n  const [noiseFlag, setNoiseFlag] = useState(false);\n  const [noise, setNoise] = useState(1.0); // note this is a percentage must be converted back to a decimal for the API\n  const [startSDS, setStartSDS] = useState('0');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const handleBigButtonPress = ({ type }) => {\n    if (type === 'submit') {\n      const values = {\n        measurement_method: props.globalState.measurementMethod,\n        sex: props.globalState.sex,\n        start_chronological_age: startingAge,\n        end_age: endingAge,\n        gestation_weeks: weeks,\n        gestation_days: days,\n        measurement_interval_type: intervalType,\n        measurement_interval_number: interval,\n        start_sds: startSDS,\n        noise: noiseFlag,\n        drift_range: drift,\n        drift: driftFlag,\n        noise_range: noise,\n        reference: props.globalState.reference,\n      };\n      props.fictionalFormDataSubmit(values);\n    } else {\n      props.updateGlobalState('resetCurrent', true);\n    }\n  };\n\n  const handleChangeReference = (val) => {\n    props.updateGlobalState('reference', val.value);\n  };\n\n  const handleChangeMeasurementMethod = (val) => {\n    props.updateGlobalState('measurementMethod', val);\n  };\n\n  const handleSexChange = (val) => {\n    props.updateGlobalState('sex', val.value);\n  };\n\n  const handleGestationChange = ({ name, value }) => {\n    if (name === 'gestation_weeks') {\n      setWeeks(value);\n      if (value === 42) {\n        setDays(0);\n      }\n    } else if (name === 'gestation_days') {\n      if (weeks === 42) {\n        setDays(0);\n      } else {\n        setDays(value);\n      }\n    }\n  };\n\n  const handleObservationChange = (e, { name, value }) => {\n    if (name === 'start_age') {\n      setStartingAge(value);\n    }\n    if (name === 'end_age') {\n      setEndingAge(value);\n    }\n    if (name === 'interval_value') {\n      setInterval(value);\n    }\n    if (name === 'startSDS') {\n      setStartSDS(value);\n    }\n  };\n\n  const handleChangeIntervalType = (e, { value }) => {\n    setIntervalType(value);\n  };\n\n  const handleSDSDriftChange = (e, { checked }) => {\n    setDriftFlag(checked);\n  };\n\n  const handleDriftChange = (val) => {\n    setDrift(val);\n  };\n\n  const handleNoiseChange = (val) => {\n    setNoise(val);\n  };\n\n  const handleNoiseFlag = (e, { checked }) => {\n    setNoiseFlag(checked);\n  };\n\n  const makeDynamic = (option) => {\n    const newDisabled = props.globalState.disabled[option.key];\n    return { ...option, disabled: newDisabled };\n  };\n\n  const dynamicMeasurementOptions = measurementOptions.map(makeDynamic);\n\n  const dynamicSexOptions = sexOptions.map(makeDynamic);\n\n  useEffect(() => {\n    switch (true) {\n      case Number(startingAge) < 0:\n        setErrorMessage('Starting age must be above 0.');\n        break;\n      case Number(endingAge) > 20:\n        setErrorMessage('Ending age must be under 20.');\n        break;\n      case Number.isNaN(Number(startingAge)):\n      case Number.isNaN(Number(endingAge)):\n      case Number.isNaN(Number(interval)):\n      case Number.isNaN(Number(startSDS)):\n        setErrorMessage('Please check that all entries have valid numbers.');\n        break;\n      case startingAge === '':\n      case endingAge === '':\n      case interval === '':\n      case startSDS === '':\n        setErrorMessage('Please check that all entries are filled in.');\n        break;\n      default:\n        setErrorMessage('');\n    }\n  }, [startingAge, endingAge, interval, startSDS]);\n\n  return (\n    <Form onSubmit={handleBigButtonPress}>\n      <Form.Field>\n        <ReferenceSelect\n          handleChangeReference={handleChangeReference}\n          reference={props.globalState.reference}\n          referenceOptions={referenceOptions}\n        />\n      </Form.Field>\n      <Form.Field>\n        <MeasurementMethodSelect\n          handleChangeMeasurementMethod={handleChangeMeasurementMethod}\n          measurementMethod={props.globalState.measurementMethod}\n          measurementOptions={dynamicMeasurementOptions}\n        />\n      </Form.Field>\n      <Form.Field>\n        <SexSelect\n          handleSexChange={handleSexChange}\n          sex={props.globalState.sex}\n          sexOptions={dynamicSexOptions}\n        />\n      </Form.Field>\n      <Form.Field>\n        <GestationSelect\n          handleGestationChange={handleGestationChange}\n          weeks={weeks}\n          days={days}\n        />\n      </Form.Field>\n      <Header as=\"h5\" textAlign={'left'}>\n        Ages\n      </Header>\n      <Form.Field>\n        <Input\n          type=\"decimal\"\n          name=\"start_age\"\n          placeholder=\"Starting Decimal Age\"\n          value={startingAge}\n          label={{\n            content: 'years',\n            basic: true,\n            color: 'blue',\n          }}\n          labelPosition=\"right\"\n          onChange={handleObservationChange}\n        ></Input>\n      </Form.Field>\n      <Form.Field>\n        <Input\n          type=\"decimal\"\n          name=\"end_age\"\n          placeholder=\"Ending Decimal Age\"\n          value={endingAge}\n          label={{\n            content: 'years',\n            basic: true,\n            color: 'blue',\n          }}\n          labelPosition=\"right\"\n          onChange={handleObservationChange}\n        ></Input>\n      </Form.Field>\n      <Header as=\"h5\" textAlign={'left'}>\n        Intervals\n      </Header>\n      <Form.Field>\n        <IntervalTypeSelect\n          handleChangeIntervalType={handleChangeIntervalType}\n          intervalType={intervalType}\n          intervalTypeOptions={intervalOptions}\n        />\n      </Form.Field>\n      <Form.Field>\n        <Input\n          type=\"decimal\"\n          name=\"interval_value\"\n          placeholder=\"Interval amount\"\n          value={interval}\n          onChange={handleObservationChange}\n        />\n      </Form.Field>\n      <Header as=\"h5\" textAlign={'left'}>\n        SDS (Standard Deviation Score)\n      </Header>\n      <Form.Field>\n        <Form.Input\n          label=\"Starting SDS\"\n          type=\"decimal\"\n          name=\"startSDS\"\n          placeholder=\"SDS\"\n          value={startSDS}\n          labelPosition=\"left\"\n          onChange={handleObservationChange}\n        ></Form.Input>\n      </Form.Field>\n      <ErrorText errorText={errorMessage} />\n      <Form.Field width={14} style={{ textAlign: 'left' }}>\n        <Checkbox\n          toggle\n          label=\"Add SDS drift?\"\n          onChange={handleSDSDriftChange}\n        />\n      </Form.Field>\n      {driftFlag && (\n        <Form.Field width={14}>\n          <Slider\n            isPercentage={false}\n            min={-3}\n            max={3}\n            value={drift}\n            step={0.01}\n            onChange={handleDriftChange}\n            label=\"Drift\"\n          />\n        </Form.Field>\n      )}\n      {/* </Form.Group> */}\n\n      <Form.Field width={14} style={{ textAlign: 'left' }}>\n        <Checkbox\n          toggle\n          label=\"Simulate Measurement Error?\"\n          onChange={handleNoiseFlag}\n        />\n      </Form.Field>\n      {noiseFlag && (\n        <Form.Field width={14}>\n          <Slider\n            isPercentage={true}\n            min={0}\n            max={10}\n            value={noise}\n            step={0.1}\n            onChange={handleNoiseChange}\n            label=\"Percentage Error\"\n          />\n        </Form.Field>\n      )}\n      <Form.Field>\n        <Button\n          content=\"Generate Growth Data\"\n          type=\"submit\"\n          fluid\n          color=\"pink\"\n          icon=\"line graph\"\n          labelPosition=\"right\"\n          disabled={errorMessage !== ''}\n        />\n      </Form.Field>\n      {props.globalState.isDataPresent && (\n        <Form.Field>\n          <Button\n            content=\"Reset Chart\"\n            icon=\"power off\"\n            onClick={handleBigButtonPress}\n            style={{ width: '100%' }}\n            type=\"reset\"\n          />\n        </Form.Field>\n      )}\n    </Form>\n  );\n};\n\nexport default FictionalChildForm;\n","import { useEffect, useState, useCallback } from 'react';\nimport axios from 'axios';\n\nimport deepCopy from '../functions/deepCopy';\n\nconst fetchFromApi = async (inputParameters, reference, mode) => {\n  let url = `${process.env.REACT_APP_GROWTH_API_BASEURL}/${reference}/${mode}`;\n  const headers = process.env.REACT_APP_API_KEY\n    ? {\n        'Content-Type': 'application/json',\n        'Subscription-Key': process.env.REACT_APP_API_KEY,\n      }\n    : { 'Content-Type': 'application/json' };\n  const response = await axios({\n    url: url,\n    data: inputParameters,\n    method: 'POST',\n    headers,\n  });\n  return response.data;\n};\n\nconst makeInitialState = () => {\n  const measurements = {\n    turner: {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n    },\n    'trisomy-21': {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n    },\n    'uk-who': {\n      height: [],\n      weight: [],\n      bmi: [],\n      ofc: [],\n    },\n  };\n  return {\n    calculation: {\n      input: measurements,\n      output: measurements,\n    },\n    'mid-parental-height': {\n      input: measurements,\n      output: measurements\n    },\n    'fictional-child-data': {\n      input: measurements,\n      output: measurements,\n    },\n    errors: { errors: false, message: '' },\n    isLoading: false,\n  };\n};\n\nconst useRcpchApi = (measurementMethod, reference, mode = 'calculation') => {\n  const [apiState, setApiState] = useState(makeInitialState);\n\n  const fetchResult = useCallback(\n    (newInput) => {\n      setApiState((old) => {\n        const mutable = deepCopy(old);\n        mutable[mode].input[reference][measurementMethod].push(newInput);\n        mutable.isLoading = true;\n        return mutable;\n      });\n    },\n    [measurementMethod, mode, reference]\n  );\n\n  /* \n  Remove last item from arrays. Defaults to removing last item from measurements array only. \n  If 'both' parameter is set to true, removes last item from measurements array and \n  results array.\n  */\n  const removeLastFromArrays = useCallback(\n    (oldState, both = false) => {\n      const newInput = deepCopy(\n        oldState[mode].input[reference][measurementMethod]\n      );\n      newInput.pop();\n      let newOutput = null;\n      if (both) {\n        newOutput = oldState[mode].output[reference][measurementMethod];\n        newOutput.pop();\n      }\n      return { newInput, newOutput };\n    },\n    [measurementMethod, mode, reference]\n  );\n\n  // as above but updates state as well (used as a callback)\n  const removeLastActiveItem = useCallback(\n    (both) => {\n      setApiState((old) => {\n        const mutable = deepCopy(old);\n        const { newInput, newOutput } = removeLastFromArrays(old, both);\n        mutable[mode].input[reference][measurementMethod] = newInput;\n        if (newOutput) {\n          mutable[mode].output[reference][measurementMethod] = newOutput;\n        }\n        return mutable;\n      });\n    },\n    [setApiState, removeLastFromArrays, mode, reference, measurementMethod]\n  );\n\n  const clearBothActiveArrays = useCallback(() => {\n    setApiState((old) => {\n      const mutable = deepCopy(old);\n      mutable[mode].input[reference][measurementMethod] = [];\n      mutable[mode].output[reference][measurementMethod] = [];\n      return mutable;\n    });\n  }, [measurementMethod, mode, reference]);\n\n  const clearApiErrors = useCallback(() => {\n    setApiState((old) => {\n      const mutable = deepCopy(old);\n      mutable.errors = { errors: false, message: '' };\n      return mutable;\n    });\n  }, []);\n\n  useEffect(() => {\n    let ignore = false;\n    if (apiState.isLoading) {\n      const relevantArray = apiState[mode].input[reference][measurementMethod];\n      let latestInput = deepCopy(relevantArray[relevantArray.length - 1]);\n      fetchFromApi(latestInput, reference, mode)\n        .then((result) => {\n          if (!ignore) {\n            setApiState((old) => {\n              const mutable = deepCopy(old);\n              let measurementError = '';\n              let resultAsArray = null;\n              if (mode === 'fictional-child-data') {\n                resultAsArray = result;\n              } \n              if (mode === 'calculation') {\n                resultAsArray = mutable[mode].output[reference][\n                  measurementMethod\n                ].concat([result]);\n              }\n              for (const singleResult of resultAsArray) {\n                if (resultAsArray.length < 2){\n                  // only register errors for individual measurements\n                  measurementError =\n                    singleResult.measurement_calculated_values\n                      .corrected_measurement_error ||\n                    singleResult.measurement_calculated_values\n                      .chronological_measurement_error;\n                }\n                if (measurementError) {\n                  if (mode === 'fictional-child-data') {\n                    mutable[mode].input[reference][measurementMethod] = [];\n                  } else {\n                    const { newInput } = removeLastFromArrays(old);\n                    mutable[mode].input[reference][measurementMethod] =\n                      newInput;\n                  }\n                  mutable.errors = {\n                    errors: true,\n                    message: `The server could not process the measurements. Details: ${measurementError}`,\n                  };\n                  mutable.isLoading = false;\n                  return mutable;\n                }\n              }\n              mutable[mode].output[reference][measurementMethod] = resultAsArray;\n              \n              mutable.errors = { errors: false, message: 'success' };\n              mutable.isLoading = false;\n              return mutable;\n            });\n          }\n        })\n        .catch((error) => {\n          setApiState((old) => {\n            const mutable = deepCopy(old);\n            const { newInput } = removeLastFromArrays(old);\n            mutable[mode].input[reference][measurementMethod] = newInput;\n            const errorForUser = `There has been a problem fetching the result from the server. Error details: ${error.message}`;\n            mutable.errors = { errors: true, message: errorForUser };\n            mutable.isLoading = false;\n            return mutable;\n          });\n        });\n    }\n    return () => {\n      ignore = true;\n    };\n  }, [apiState, measurementMethod, mode, reference, removeLastFromArrays]);\n\n  return {\n    fetchResult,\n    removeLastActiveItem,\n    clearBothActiveArrays,\n    clearApiErrors,\n    measurements: apiState[mode].input,\n    results: apiState[mode].output,\n    apiErrors: apiState.errors,\n    isLoading: apiState.isLoading,\n  };\n};\n\nexport default useRcpchApi;\n","import axios from 'axios';\n\nconst fetchFromApi = async (inputParameters) => {\n    const url = `${process.env.REACT_APP_GROWTH_API_BASEURL}/utilities/mid-parental-height`;\n  \n  const headers = process.env.REACT_APP_API_KEY\n    ? {\n        'Content-Type': 'application/json',\n        'Subscription-Key': process.env.REACT_APP_API_KEY,\n      }\n    : { 'Content-Type': 'application/json' };\n  const response = await axios({\n    url: url,\n    data: inputParameters,\n    method: 'POST',\n    headers,\n  });\n  return response.data;\n};\n\nconst returnMidParentalHeight = (formData) => {\n    return fetchFromApi(formData).then(result => {\n        return result\n    })\n};\n  \nexport default returnMidParentalHeight;","import { useState, useCallback } from 'react';\nimport deepCopy from '../functions/deepCopy';\nimport { units } from '../functions/units';\n\nconst makeGlobalState = () => {\n  return {\n    mode: 'calculation',\n    modeActiveIndex: 0,\n    reference: 'uk-who',\n    measurementMethod: 'height',\n    units: 'cm',\n    measurementMethodActiveIndex: 0,\n    sex: 'male',\n    midparentalHeightData: {\n      mid_parental_height: null,\n      mid_parental_height_sds: null,\n      mid_parental_height_centile: null,\n      mid_parental_height_centile_data: null,\n      mid_parental_height_lower_centile_data: null,\n      mid_parental_height_upper_centile_data: null,\n      mid_parental_height_lower_value: null,\n      mid_parental_height_upper_value: null\n    },\n    disabled: {\n      height: false,\n      weight: false,\n      bmi: false,\n      ofc: false,\n      male: false,\n      female: false,\n    },\n    errors: {\n      errors: false,\n      message: '',\n    },\n    clearMeasurement: false,\n    resetCurrent: false,\n    undoLast: false,\n    isDataPresent: false,\n  };\n};\n\nconst measurementMethodActiveIndexLookup = ['height', 'weight', 'bmi', 'ofc'];\n\nconst useGlobalState = () => {\n  const [globalState, setGlobalState] = useState(makeGlobalState);\n  const makeGlobalStateUpdater = useCallback((results) => {\n    return (name, newValue) => {\n      setGlobalState((old) => {\n        const mutable = deepCopy(old);\n        switch (name) {\n          case 'mode':\n            mutable.mode = newValue;\n            mutable.modeActiveIndex = newValue === 'calculation' ? 0 : 1;\n            break;\n          case 'modeActiveIndex':\n            mutable.modeActiveIndex = newValue;\n            switch (newValue){\n              case 0:\n                mutable.mode = 'calculation';\n                break;\n              case 1: \n                mutable.mode = 'fictional-child-data';\n                break;\n              case 2: \n                mutable.mode = 'mid-parental-height';\n                break;\n              default:\n                mutable.mode = 'calculation';\n                break;\n            }\n            break;\n          case 'reference':\n            mutable.reference = newValue;\n            if (newValue === 'turner') {\n              mutable.disabled = {\n                height: false,\n                weight: true,\n                bmi: true,\n                ofc: true,\n                male: true,\n                female: false,\n              };\n              mutable.measurementMethod = 'height';\n              mutable.measurementMethodActiveIndex = 0;\n              mutable.sex = 'female';\n            } else {\n              if (\n                results[newValue][mutable.measurementMethod].length > 0 &&\n                results[newValue][mutable.measurementMethod][0].birth_data\n                  .sex !== mutable.sex\n              ) {\n                mutable.sex =\n                  results[newValue][\n                    mutable.measurementMethod\n                  ][0].birth_data.sex;\n              }\n              mutable.disabled = {\n                height: false,\n                weight: false,\n                bmi: false,\n                ofc: false,\n                male: false,\n                female: false,\n              };\n            }\n            break;\n          case 'measurementMethod':\n            mutable.measurementMethod = newValue;\n            mutable.units = units(newValue);\n            for (\n              let i = 0;\n              i < measurementMethodActiveIndexLookup.length;\n              i++\n            ) {\n              if (measurementMethodActiveIndexLookup[i] === newValue) {\n                mutable.measurementMethodActiveIndex = i;\n                break;\n              }\n            }\n            break;\n          case 'measurementMethodActiveIndex':\n            const tempMeasurementMethod =\n              measurementMethodActiveIndexLookup[newValue];\n            if (\n              mutable.reference === 'turner' &&\n              tempMeasurementMethod !== 'height'\n            ) {\n              mutable.errors = {\n                errors: true,\n                message: 'Unable to change measurement type',\n              };\n            } else {\n              mutable.measurementMethodActiveIndex = newValue;\n              mutable.measurementMethod =\n                measurementMethodActiveIndexLookup[newValue];\n            }\n            break;\n          case 'sex':\n            const existingResults = [\n              ...results[mutable.reference][mutable.measurementMethod],\n            ];\n            if (existingResults.length > 0) {\n              for (const oldResult of existingResults) {\n                if (newValue !== oldResult.sex) {\n                  mutable.errors = {\n                    errors: true,\n                    message: 'Unable to change sex',\n                  };\n                  break;\n                }\n              }\n            }\n            if (!mutable.errors.message) {\n              mutable.sex = newValue;\n            }\n            break;\n          default:\n            mutable[name] = newValue;\n        }\n        return mutable;\n      });\n    };\n  }, []);\n  return {\n    globalState,\n    makeGlobalStateUpdater,\n  };\n};\n\nexport default useGlobalState;\n","import React, { useState } from 'react';\n\nimport {\n  Container,\n  Form,\n  Input,\n  Button\n} from 'semantic-ui-react';\n\nconst UtilitiesForm = (props) => {\n\n    const [maternalHeight, setMaternalHeight] = useState(null);\n    const [paternalHeight, setPaternalHeight] = useState(null);\n\n    const handleSubmitUtilities = ({utilitiesFormData}) => {\n        const values = {\n            sex: props.globalState.sex,\n            height_maternal: maternalHeight,\n            height_paternal: paternalHeight\n        }\n        props.utilitiesFormDataSubmit(values)\n    }\n\n    const handleUpdateMaternalHeight = (e, { name, value }) => {\n        setMaternalHeight(value);\n    }\n    \n    const handleUpdatePaternalHeight = (e, { name, value }) => {\n        setPaternalHeight(value);\n    }\n\n    return (\n        <Container>\n            <Form onSubmit={handleSubmitUtilities}>\n                <Form.Group>\n                    <Form.Field>\n                        <label>\n                            Maternal height (cm)\n                        </label>\n                        <Input\n                            onChange={handleUpdateMaternalHeight}\n                            placeholder=\"e.g. 167\"\n                        />\n                    </Form.Field>\n                    <Form.Field>\n                        <label>\n                        Paternal height (cm)\n                        </label>\n                        <Input\n                            placeholder=\"e.g. 179\"\n                            onChange={handleUpdatePaternalHeight}\n                        />\n                    </Form.Field>\n                </Form.Group>\n                <Form.Field>\n                    <Button \n                        type=\"submit\"\n                    >Calculate Mid-parental Height\n                    </Button>\n                </Form.Field>\n            </Form>\n        </Container>\n    )\n}\n\nexport default UtilitiesForm;","// React\nimport React, { useState, useEffect, useMemo } from 'react';\n\n//themes\nimport RCPCHTheme1 from '../components/chartThemes/rcpchTheme1';\nimport RCPCHTheme2 from '../components/chartThemes/rcpchTheme2';\nimport RCPCHTheme3 from '../components/chartThemes/rcpchTheme3';\nimport RCPCHThemeMonochrome from '../components/chartThemes/rcpchThemeMonochrome';\nimport RCPCHThemeTraditionalBoy from '../components/chartThemes/RCPCHThemeTraditionalBoy';\nimport RCPCHThemeTraditionalGirl from '../components/chartThemes/RCPCHThemeTraditionalGirl';\n\n// Semantic UI React\nimport { Grid, Segment, Tab, Dropdown, Button } from 'semantic-ui-react';\n\nimport ChartData from '../api/Chart';\nimport MeasurementForm from '../components/MeasurementForm';\nimport deepCopy from '../functions/deepCopy';\nimport { ResultsSegment }   from '../components/subcomponents/ResultsSegment';\nimport { ErrorModal }   from '../components/subcomponents/ErrorModal';\nimport '../index.css';\nimport FictionalChildForm from './FictionalChildForm';\nimport useRcpchApi from '../hooks/useRcpchApi';\nimport returnMidParentalHeight from '../hooks/returnMidParentalHeight';\nimport useGlobalState from '../hooks/useGlobalState';\nimport UtilitiesForm from './UtilitiesForm';\n\nconst defaultTheme = RCPCHThemeMonochrome;\n\nfunction MeasurementSegment() {\n  const [chartStyle, setChartSyle] = useState(defaultTheme.chart);\n  const [axisStyle, setAxisStyle] = useState(defaultTheme.axes);\n  const [centileStyle, setCentileStyle] = useState(defaultTheme.centiles);\n  const [measurementStyle, setMeasurementStyle] = useState(\n    defaultTheme.measurements\n  );\n  const [theme, setTheme] = useState({\n    value: 'tanner4',\n    text: 'Monochrome',\n  });\n\n  const [flip, setFlip] = useState(false); // flag to determine if results or chart showing\n  const [errorModal, setErrorModal] = useState(InitalErrorModalState());\n\n  const { globalState, makeGlobalStateUpdater } = useGlobalState();\n\n  const {\n    mode,\n    modeActiveIndex,\n    reference,\n    measurementMethod,\n    measurementMethodActiveIndex,\n    sex,\n    disabled,\n    errors,\n    resetCurrent,\n    undoLast,\n  } = globalState;\n\n  const {\n    fetchResult,\n    removeLastActiveItem,\n    clearBothActiveArrays,\n    clearApiErrors,\n    measurements,\n    results,\n    apiErrors,\n    isLoading,\n  } = useRcpchApi(measurementMethod, reference, mode);\n\n  const updateGlobalState = useMemo(\n    () => makeGlobalStateUpdater(results),\n    [results, makeGlobalStateUpdater]\n  );\n\n  useEffect(() => {\n    if (apiErrors.errors) {\n      setErrorModal({\n        visible: true,\n        title: 'Unable to plot',\n        body: apiErrors.message,\n        handleClose: () => {\n          clearApiErrors();\n          setErrorModal(InitalErrorModalState());\n        },\n      });\n    } else if (apiErrors.message === 'success') {\n      updateGlobalState('clearMeasurement', true);\n      clearApiErrors();\n    }\n    if (errors.errors) {\n      let body = 'Only height data is available for Turner Syndrome.';\n      if (errors.message === 'Unable to change sex') {\n        body =\n          'Each chart can only display measurements from one patient at a time. Please reset the chart before entering measurements from a new patient.';\n      }\n      setErrorModal({\n        visible: true,\n        title: errors.message,\n        body: body,\n        handleClose: () => setErrorModal(InitalErrorModalState()),\n      });\n      updateGlobalState('errors', { errors: false, message: '' });\n    }\n  }, [errors, apiErrors, clearApiErrors, updateGlobalState]);\n\n  useEffect(() => {\n    if (theme.value === 'trad') {\n      const selectedTheme =\n        sex === 'male' ? RCPCHThemeTraditionalBoy : RCPCHThemeTraditionalGirl;\n      setCentileStyle(selectedTheme.centiles);\n      setChartSyle(selectedTheme.chart);\n      setMeasurementStyle(selectedTheme.measurements);\n      setAxisStyle(selectedTheme.axes);\n    }\n  }, [sex, theme.value]);\n\n  useEffect(() => {\n    if (results[reference][measurementMethod].length > 0) {\n      updateGlobalState('isDataPresent', true);\n    } else {\n      updateGlobalState('isDataPresent', false);\n    }\n  }, [results, reference, measurementMethod, updateGlobalState]);\n\n  if (resetCurrent) {\n    setErrorModal({\n      visible: true,\n      title: 'Are you sure you want to reset?',\n      body: 'This will remove all measurements from the current chart.',\n      handleCancel: () => setErrorModal(InitalErrorModalState()),\n      handleClose: () => {\n        clearBothActiveArrays();\n        setErrorModal(InitalErrorModalState());\n      },\n    });\n    updateGlobalState('resetCurrent', false);\n  }\n\n  if (undoLast) {\n    setErrorModal({\n      visible: true,\n      title: 'Are you sure you want to remove the last measurement?',\n      body: 'This will remove the last measurement entered on the chart.',\n      handleCancel: () => setErrorModal(InitalErrorModalState()),\n      handleClose: () => {\n        removeLastActiveItem(true);\n        setErrorModal(InitalErrorModalState());\n      },\n    });\n    updateGlobalState('undoLast', false);\n  }\n\n  const handleTabChange = (e, { activeIndex }) => {\n    updateGlobalState('measurementMethodActiveIndex', activeIndex);\n  };\n\n  const handleModeChange = (e, { activeIndex }) => {\n    updateGlobalState('modeActiveIndex', activeIndex);\n  };\n\n  const fictionalFormDataSubmit = (formData) => {\n    // convert percentage back to a decimal for the API\n    formData.noise_range = formData.noise_range / 100\n    fetchResult(formData);\n  };\n\n  const utilitiesFormDataSubmit = (formData) => {\n    const result = returnMidParentalHeight(formData)\n    result.then(final => {\n      updateGlobalState('midparentalHeightData', final);\n    }).catch(error => {\n      console.log(error);\n    })\n  }\n\n  const handleChangeTheme = (event, { value }) => {\n    let selectedTheme;\n    let text;\n\n    if (value === 'trad') {\n      if (sex === 'male') {\n        selectedTheme = RCPCHThemeTraditionalBoy;\n      } else {\n        selectedTheme = RCPCHThemeTraditionalGirl;\n      }\n      text = 'Traditional';\n    }\n    if (value === 'tanner1') {\n      selectedTheme = RCPCHTheme1;\n      text = 'Tanner 1';\n    }\n    if (value === 'tanner2') {\n      selectedTheme = RCPCHTheme2;\n      text = 'Tanner 2';\n    }\n    if (value === 'tanner3') {\n      selectedTheme = RCPCHTheme3;\n      text = 'Tanner 3';\n    }\n    if (value === 'monochrome') {\n      selectedTheme = RCPCHThemeMonochrome;\n      text = 'Monochrome';\n    }\n\n    setCentileStyle(selectedTheme.centiles);\n    setChartSyle(selectedTheme.chart);\n    setMeasurementStyle(selectedTheme.measurements);\n    setAxisStyle(selectedTheme.axes);\n    setTheme({ value: value, text: text });\n  };\n\n  const handleFlipResults = () => {\n    setFlip(!flip);\n  };\n\n  const handleResults = (latestResult) => {\n    // delegate function from MeasurementForm\n    // receives form data and stores in the correct measurement array\n    // checks for duplicates, mismatching dobs, sexes and gestations\n    if (!isLoading) {\n      const existingResults = deepCopy(\n        measurements[reference][measurementMethod]\n      );\n      let errorString = '';\n      if (existingResults.length > 0) {\n        const newGestation =\n          latestResult.gestation_weeks * 7 + latestResult.gestation_days;\n        const newErrors = [];\n        for (const oldResult of existingResults) {\n          if (JSON.stringify(oldResult) === JSON.stringify(latestResult)) {\n            errorString = 'duplicate';\n            break;\n          }\n          const oldGestation =\n            oldResult.gestation_weeks * 7 + oldResult.gestation_days;\n          if (oldResult.sex !== latestResult.sex) {\n            newErrors.push('differing sexes');\n          }\n          if (oldResult.birth_date !== latestResult.birth_date) {\n            newErrors.push('differing date of births');\n          }\n          if (oldGestation !== newGestation) {\n            newErrors.push('differing gestations');\n          }\n          if (newErrors.length > 0) {\n            errorString = newErrors[0];\n            if (newErrors.length === 2) {\n              errorString = newErrors.join(' and ');\n            } else if (newErrors.length === 3) {\n              errorString = `${newErrors[0]}, ${newErrors[1]} and ${newErrors[2]}`;\n            }\n            break;\n          }\n        }\n      }\n      if (errorString) {\n        if (errorString === 'duplicate') {\n          setErrorModal({\n            visible: true,\n            title: 'Duplicate entries',\n            body: `Please check the last measurement entry as it appears to be identical to a measurement already entered.`,\n            handleClose: () => setErrorModal(InitalErrorModalState()),\n          });\n        } else {\n          setErrorModal({\n            visible: true,\n            title: 'Please check entries',\n            body: `Each chart can only display measurements from one patient at a time: ${errorString} were detected.`,\n            handleClose: () => setErrorModal(InitalErrorModalState()),\n          });\n        }\n        return false;\n      } else {\n        fetchResult(latestResult);\n        return true;\n      }\n    }\n  };\n\n  const panes = panesBlueprint.map((details) => {\n    return {\n      menuItem: details.menuItem,\n      render: () => (\n        <Tab.Pane attached=\"top\" disabled={disabled[details.measurementName]}>\n          <ChartData\n            key={details.measurementName}\n            reference={reference}\n            sex={sex}\n            measurementMethod={details.measurementName}\n            measurementsArray={results[reference][details.measurementName]}\n            midParentalHeightData={globalState.midparentalHeightData}\n            chartStyle={chartStyle}\n            axisStyle={axisStyle}\n            gridlineStyle={defaultTheme.gridlines}\n            centileStyle={centileStyle}\n            measurementStyle={measurementStyle}\n            isLoading={isLoading}\n          />\n        </Tab.Pane>\n      ),\n    };\n  });\n\n  const TabPanes = () => (\n    <Tab\n      menu={{ attached: 'top' }}\n      panes={panes}\n      activeIndex={measurementMethodActiveIndex}\n      onTabChange={handleTabChange}\n    />\n  );\n\n  const FormPanes = [\n    {\n      menuItem: 'Measurements',\n      render: () => (\n        <Tab.Pane attached={false}>\n          <MeasurementForm\n            handleMeasurementResult={handleResults}\n            globalState={globalState}\n            updateGlobalState={updateGlobalState}\n            className=\"measurement-form\"\n          />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Examples',\n      render: () => (\n        <Tab.Pane>\n          <FictionalChildForm\n            fictionalFormDataSubmit={fictionalFormDataSubmit}\n            globalState={globalState}\n            updateGlobalState={updateGlobalState}\n          />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Utilities',\n      render: () => (\n        <Tab.Pane>\n          <UtilitiesForm\n            utilitiesFormDataSubmit={utilitiesFormDataSubmit}\n            globalState={globalState}\n            updateGlobalState={updateGlobalState}\n          />\n        </Tab.Pane>\n      ),\n    },\n  ];\n\n  const ThemeSelection = () => (\n    <span>\n      Theme{' '}\n      <Dropdown\n        options={themeOptions}\n        floating\n        inline\n        onChange={handleChangeTheme}\n        text={theme.text}\n      />\n    </span>\n  );\n\n  return (\n    <React.Fragment>\n      {/* <Container> */}\n      <Grid padded>\n        <Grid.Row>\n          <Grid.Column width={6}>\n            <Segment textAlign={'center'}>\n              <Tab\n                panes={FormPanes}\n                menu={{ attached: false }}\n                onTabChange={handleModeChange}\n                activeIndex={modeActiveIndex}\n              />\n            </Segment>\n          </Grid.Column>\n          <Grid.Column width={10}>\n            <Segment>\n              {flip ? (\n                <ResultsSegment apiResult={results} reference={reference} />\n              ) : (\n                <TabPanes />\n              )}\n              <Grid verticalAlign=\"middle\">\n                <Grid.Row columns={2}>\n                  <Grid.Column textAlign=\"left\">\n                    <ThemeSelection />\n                  </Grid.Column>\n                  <Grid.Column textAlign=\"right\">\n                    <Button\n                      className=\"selectUpperMargin\"\n                      onClick={handleFlipResults}\n                    >\n                      Results\n                    </Button>\n                  </Grid.Column>\n                </Grid.Row>\n              </Grid>\n            </Segment>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n      {/* </Container> */}\n      <ErrorModal\n        title={errorModal.title}\n        body={errorModal.body}\n        visible={errorModal.visible}\n        handleClose={errorModal.handleClose}\n        handleCancel={errorModal.handleCancel}\n      />\n    </React.Fragment>\n  );\n}\n\nconst panesBlueprint = [\n  { menuItem: 'Height', measurementName: 'height' },\n  { menuItem: 'Weight', measurementName: 'weight' },\n  { menuItem: 'BMI', measurementName: 'bmi' },\n  {\n    menuItem: 'Head Circumference',\n    measurementName: 'ofc',\n  },\n];\n\nconst themeOptions = [\n  { key: 'monochrome', value: 'monochrome', text: 'Monochrome' },\n  { key: 'trad', value: 'trad', text: 'Traditional' },\n  { key: 'tanner1', value: 'tanner1', text: 'Tanner 1' },\n  { key: 'tanner2', value: 'tanner2', text: 'Tanner 2' },\n  { key: 'tanner3', value: 'tanner3', text: 'Tanner 3' },\n];\n\nfunction InitalErrorModalState() {\n  return {\n    visible: false,\n    title: '',\n    body: '',\n    handleClose: null,\n    handleCancel: null,\n  };\n}\n\nexport default MeasurementSegment;\n","import React from \"react\";\n\nimport MeasurementSegment from \"../components/MeasurementSegment\";\n\nfunction Home() {\n  return (\n    <div>\n      <MeasurementSegment />\n    </div>\n  );\n}\n\nexport default Home;\n","// React\nimport React from \"react\";\nimport \"./App.css\";\n\n\n// RCPCH Components\nimport \"./components/MeasurementForm\";\nimport Home from \"./pages/Home\";\n\nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// React\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\n// Semantic UI React\nimport \"semantic-ui-less/semantic.less\";\n\n// CSS\nimport \"./index.css\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}